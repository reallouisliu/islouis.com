<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Louis Liu - Whale Cloud</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Liquid glass + blobs */
      .glass-card {
        background: rgba(255, 255, 255, 0.22);
        border: 1px solid rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(16px) saturate(140%);
        -webkit-backdrop-filter: blur(16px) saturate(140%);
        box-shadow: 0 10px 30px rgba(31, 41, 55, 0.15);
      }
      .frosted {
        background: rgba(255, 255, 255, 0.35);
        border: 1px solid rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        transition: transform 0.2s ease, background 0.2s ease;
      }
      .frosted:hover {
        background: rgba(255, 255, 255, 0.45);
        transform: translateY(-2px);
      }
      .frosted:active {
        transform: translateY(0) scale(0.98);
      }

      .blob {
        position: absolute;
        filter: blur(40px);
        opacity: 0.6;
        animation: float 12s ease-in-out infinite;
      }
      @keyframes float {
        0%,
        100% {
          transform: translateY(0) translateX(0) scale(1);
        }
        50% {
          transform: translateY(-16px) translateX(12px) scale(1.05);
        }
      }

      /* Modal */
      .modal-backdrop {
        background: rgba(15, 23, 42, 0.45);
      }
      .modal-panel {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(14px);
        border: 1px solid rgba(255, 255, 255, 0.5);
      }

      /* RTL helpers */
      html[dir="rtl"] .rtl-flip {
        direction: rtl;
      }
      html[dir="rtl"] .text-start {
        text-align: right;
      }
      html[dir="ltr"] .text-start {
        text-align: left;
      }

      /* Animations */
      @keyframes cardIn {
        from {
          opacity: 0;
          transform: translateY(14px) scale(0.98);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
      .animate-card {
        animation: cardIn 640ms cubic-bezier(0.22, 0.5, 0.01, 1) both;
      }

      @keyframes fadeUp {
        from {
          opacity: 0;
          transform: translateY(12px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .fade-up {
        opacity: 0;
        animation: fadeUp 520ms ease-out forwards;
      }
      .delay-1 {
        animation-delay: 0.08s;
      }
      .delay-2 {
        animation-delay: 0.16s;
      }
      .delay-3 {
        animation-delay: 0.24s;
      }
      .delay-4 {
        animation-delay: 0.32s;
      }
      .delay-5 {
        animation-delay: 0.4s;
      }
      .delay-6 {
        animation-delay: 0.48s;
      }
      .delay-7 {
        animation-delay: 0.56s;
      }
      .delay-8 {
        animation-delay: 0.64s;
      }
      .delay-9 {
        animation-delay: 0.72s;
      }

      /* Modal in/out */
      @keyframes backdropIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      @keyframes backdropOut {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }
      @keyframes modalIn {
        from {
          opacity: 0;
          transform: translateY(10px) scale(0.96);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
      @keyframes modalOut {
        from {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
        to {
          opacity: 0;
          transform: translateY(8px) scale(0.98);
        }
      }
      #call-modal.modal-show .modal-backdrop {
        animation: backdropIn 180ms ease-out forwards;
      }
      #call-modal.modal-leave .modal-backdrop {
        animation: backdropOut 160ms ease-in forwards;
      }
      #call-modal.modal-show .modal-panel {
        animation: modalIn 220ms ease-out forwards;
      }
      #call-modal.modal-leave .modal-panel {
        animation: modalOut 180ms ease-in forwards;
      }

      /* Respect reduced motion */
      @media (prefers-reduced-motion: reduce) {
        .animate-card,
        .fade-up {
          animation: none !important;
          opacity: 1 !important;
        }
        .blob {
          animation: none !important;
        }
        #call-modal.modal-show .modal-backdrop,
        #call-modal.modal-leave .modal-backdrop,
        #call-modal.modal-show .modal-panel,
        #call-modal.modal-leave .modal-panel {
          animation: none !important;
        }
      }
    </style>
  </head>
  <body
    class="relative min-h-screen font-sans bg-gradient-to-br from-indigo-200 via-sky-200 to-emerald-200 flex items-center justify-center p-4"
  >
    <!-- Animated blobs background -->
    <div class="pointer-events-none absolute inset-0 overflow-hidden">
      <div
        class="blob w-[38rem] h-[38rem] bg-gradient-to-br from-blue-400 to-indigo-400 rounded-full -top-24 -left-24"
      ></div>
      <div
        class="blob w-[30rem] h-[30rem] bg-gradient-to-br from-purple-400 to-pink-400 rounded-full bottom-0 -right-16"
        style="animation-delay: -4s"
      ></div>
      <div
        class="blob w-[22rem] h-[22rem] bg-gradient-to-br from-emerald-400 to-teal-400 rounded-full top-1/2 left-1/2 -translate-x-1/2"
        style="animation-delay: -7s"
      ></div>
    </div>

    <div
      class="glass-card relative w-full max-w-md rounded-2xl border overflow-hidden animate-card"
    >
      <div class="flex items-center justify-end gap-1 p-2 bg-white/40 border-b">
        <button
          id="lang-en"
          class="px-2 py-1 text-xs font-medium text-blue-700 hover:text-blue-800 rounded disabled:opacity-50"
        >
          EN
        </button>
        <span class="text-xs text-gray-400">|</span>
        <button
          id="lang-zh"
          class="px-2 py-1 text-xs font-medium text-blue-700 hover:text-blue-800 rounded disabled:opacity-50"
        >
          中文
        </button>
        <span class="text-xs text-gray-400">|</span>
        <button
          id="lang-ar"
          class="px-2 py-1 text-xs font-medium text-blue-700 hover:text-blue-800 rounded disabled:opacity-50"
        >
          العربية
        </button>
      </div>

      <div class="p-6 md:p-7">
        <div class="text-center mb-8 fade-up delay-1">
          <img
            id="avatar"
            src="https://placehold.co/128x128/E0E7FF/4F46E5?text=LL"
            alt="Avatar"
            class="w-28 h-28 rounded-full mx-auto mb-4 border-4 border-white/60 shadow-xl"
            onerror="this.onerror=null; this.src='https://placehold.co/128x128/cccccc/000000?text=No+Img'"
          />
          <h1 id="name" class="text-2xl md:text-3xl font-bold text-gray-900">
            Louis Liu
          </h1>
          <p id="title" class="text-base md:text-lg text-gray-700 mt-1">
            Account Manager of North Africa
          </p>
          <p
            id="company"
            class="text-sm md:text-base text-blue-700 font-semibold mt-1"
          >
            Whale Cloud
          </p>
        </div>

        <div class="mb-8 fade-up delay-2">
          <h2
            id="business-title"
            class="text-lg font-semibold text-gray-800 mb-2 border-b-2 border-blue-500 pb-1 text-start"
          >
            Company Business
          </h2>
          <p
            id="business-desc"
            class="text-sm text-gray-700 leading-relaxed text-start"
          >
            Whale Cloud Technology Co., Ltd is a leading technology company
            specializing in digital transformation solutions and services for
            telecom operators and enterprises.
          </p>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <a
            id="email-btn"
            href="#"
            class="frosted flex items-center justify-center font-semibold py-3 px-4 rounded-lg w-full fade-up delay-3"
          >
            <img
              src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/mail.svg"
              alt="Email"
              class="w-5 h-5 mr-2"
            />
            <span id="label-email">Email</span>
          </a>
          <a
            id="whatsapp-btn"
            href="#"
            target="_blank"
            rel="noopener"
            class="frosted flex items-center justify-center font-semibold py-3 px-4 rounded-lg w-full fade-up delay-4"
          >
            <img
              src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/message-circle.svg"
              alt="WhatsApp"
              class="w-5 h-5 mr-2"
            />
            <span id="label-whatsapp">WhatsApp</span>
          </a>
          <button
            id="save-contact-btn"
            class="frosted flex items-center justify-center font-semibold py-3 px-4 rounded-lg w-full fade-up delay-5"
          >
            <img
              src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/save.svg"
              alt="Save"
              class="w-5 h-5 mr-2"
            />
            <span id="label-save">Save Contact</span>
          </button>
          <a
            id="website-btn"
            href="#"
            target="_blank"
            rel="noopener"
            class="frosted flex items-center justify-center font-semibold py-3 px-4 rounded-lg w-full fade-up delay-6"
          >
            <img
              src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/globe.svg"
              alt="Website"
              class="w-5 h-5 mr-2"
            />
            <span id="label-website">Website</span>
          </a>
          <button
            id="phone-btn"
            class="col-span-2 frosted flex items-center justify-center font-semibold py-3 px-4 rounded-lg w-full fade-up delay-7"
          >
            <img
              src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/phone.svg"
              alt="Call"
              class="w-5 h-5 mr-2"
            />
            <span id="label-call">Call</span>
          </button>
        </div>

        <div class="mt-8 text-center text-xs text-gray-700 fade-up delay-8">
          <p id="contact-email" class="mb-1"></p>
          <p id="contact-whatsapp" class="mb-1"></p>
          <div id="contact-phones" class="space-y-1"></div>
          <p id="footer-company" class="mt-2"></p>
        </div>

        <div class="mt-6 text-center fade-up delay-9">
          <div
            class="inline-flex items-center justify-center w-24 h-10 bg-white/60 rounded"
          >
            <img src="wct-logo.svg" alt="Whale Cloud" class="h-8" />
          </div>
        </div>
      </div>
    </div>

    <!-- Call Selector Modal -->
    <div id="call-modal" class="hidden fixed inset-0 z-50">
      <div class="modal-backdrop absolute inset-0 opacity-0"></div>
      <div class="relative mx-auto mt-24 w-11/12 max-w-md p-4">
        <div class="modal-panel rounded-xl shadow-2xl p-4 opacity-0">
          <h3
            id="modal-title"
            class="text-base font-semibold text-gray-900 mb-3"
          >
            Select a number
          </h3>
          <div id="call-options" class="space-y-2"></div>
          <button
            id="call-cancel"
            class="mt-4 w-full py-2 rounded-lg bg-gray-800 text-white font-medium"
          >
            Cancel
          </button>
        </div>
      </div>
    </div>

    <script>
      // --- Centralized configuration ---
      const profile = {
        avatarUrl: "https://placehold.co/128x128/E0E7FF/4F46E5?text=LL",
        email: "liu.haodong2@iwhalecloud.com",
        whatsapp: "+44 7421735190",
        website: "https://www.iwhalecloud.com/",
        phones: [
          {
            label: { en: "Libya", zh: "利比亚", ar: "ليبيا" },
            number: "+218 943458888",
            type: "CELL",
          },
          {
            label: { en: "Algeria", zh: "阿尔及利亚", ar: "الجزائر" },
            number: "+213 798587072",
            type: "CELL",
          },
        ],
        vcard: {
          en: {
            firstName: "Louis",
            lastName: "Liu",
            organization: "Whale Cloud",
            title: "Account Manager of North Africa",
          },
          zh: {
            firstName: "皓东",
            lastName: "刘",
            organization: "浩鲸云计算科技股份有限公司",
            title: "北非客户经理",
          },
          ar: {
            firstName: "لويس",
            lastName: "ليو",
            organization: "ويل كلاود",
            title: "مدير حسابات لشمال أفريقيا",
          },
        },
      };

      const i18n = {
        en: {
          name: "Louis Liu",
          title: "Account Manager of North Africa",
          company: "Whale Cloud",
          businessTitle: "Company Business",
          businessDesc:
            "Whale Cloud Technology Co., Ltd is a leading technology company specializing in digital transformation solutions and services for telecom operators and enterprises.",
          ui: {
            email: "Email",
            whatsapp: "WhatsApp",
            save: "Save Contact",
            website: "Website",
            call: "Call",
            selectNumber: "Select a number",
            cancel: "Cancel",
          },
        },
        zh: {
          name: "刘皓东",
          title: "北非客户经理",
          company: "浩鲸云计算科技股份有限公司",
          businessTitle: "公司业务",
          businessDesc:
            "浩鲸科技专注为全球电信运营商与企业提供数字化转型解决方案与服务。",
          ui: {
            email: "邮件",
            whatsapp: "WhatsApp",
            save: "保存联系人",
            website: "公司网站",
            call: "呼叫",
            selectNumber: "选择号码",
            cancel: "取消",
          },
        },
        ar: {
          name: "لويس ليو",
          title: "مدير حسابات لشمال أفريقيا",
          company: "شركة ويل كلاود",
          businessTitle: "أعمال الشركة",
          businessDesc:
            "شركة رائدة في الحلول والخدمات الرقمية لمشغلي الاتصالات والمؤسسات.",
          ui: {
            email: "البريد",
            whatsapp: "واتساب",
            save: "حفظ جهة الاتصال",
            website: "الموقع",
            call: "اتصال",
            selectNumber: "اختر رقمًا",
            cancel: "إلغاء",
          },
        },
      };

      const languageCandidates = () => {
        const nav = (
          navigator.language ||
          navigator.userLanguage ||
          "en"
        ).toLowerCase();
        if (nav.startsWith("ar")) return "ar";
        if (nav.startsWith("zh")) return "zh";
        return "en";
      };

      let currentLang = localStorage.getItem("lang") || languageCandidates();

      // Elements
      let nameEl, titleEl, companyEl, businessTitleEl, businessDescEl;
      let emailBtn, whatsappBtn, saveBtn, websiteBtn, phoneBtn;
      let contactEmailEl, contactWhatsappEl, contactPhonesEl, footerCompanyEl;
      let langEnBtn, langZhBtn, langArBtn, avatarImg;
      let modalEl, modalOptionsEl, modalTitleEl, modalCancelEl;

      function sanitizePhone(num) {
        return (num || "").replace(/[^\d]/g, "");
      }

      function setDirByLang(lang) {
        const dir = lang === "ar" ? "rtl" : "ltr";
        document.documentElement.setAttribute("lang", lang);
        document.documentElement.setAttribute("dir", dir);
      }

      function updateUI(lang) {
        currentLang = lang;
        localStorage.setItem("lang", lang);
        setDirByLang(lang);

        const t = i18n[lang];
        const v = profile.vcard[lang];

        // Header
        avatarImg.src = profile.avatarUrl;
        nameEl.textContent = t.name;
        titleEl.textContent = t.title;
        companyEl.textContent = t.company;
        businessTitleEl.textContent = t.businessTitle;
        businessDescEl.textContent = t.businessDesc;

        // Buttons labels
        document.getElementById("label-email").textContent = t.ui.email;
        document.getElementById("label-whatsapp").textContent = t.ui.whatsapp;
        document.getElementById("label-save").textContent = t.ui.save;
        document.getElementById("label-website").textContent = t.ui.website;
        document.getElementById("label-call").textContent = t.ui.call;

        // Links/actions
        emailBtn.href = `mailto:${profile.email}`;
        whatsappBtn.href = `https://wa.me/${sanitizePhone(profile.whatsapp)}`;
        websiteBtn.href = profile.website;

        // Footer
        contactEmailEl.textContent = `${t.ui.email}: ${profile.email}`;
        contactWhatsappEl.textContent = `${t.ui.whatsapp}: ${profile.whatsapp}`;
        contactPhonesEl.innerHTML = profile.phones
          .map((p) => {
            const label = p.label[lang] || p.label.en;
            return `<p>${label}: ${p.number}</p>`;
          })
          .join("");
        footerCompanyEl.textContent = `© ${new Date().getFullYear()} ${
          t.company
        }`;

        // Modal title and cancel
        modalTitleEl.textContent = t.ui.selectNumber;
        modalCancelEl.textContent = t.ui.cancel;

        // Language buttons state
        langEnBtn.disabled = lang === "en";
        langZhBtn.disabled = lang === "zh";
        langArBtn.disabled = lang === "ar";
      }

      function openCallModal() {
        // Build options each time to reflect current language
        modalOptionsEl.innerHTML = "";
        profile.phones.forEach((p) => {
          const label = p.label[currentLang] || p.label.en;
          const btn = document.createElement("button");
          btn.className =
            "w-full frosted rounded-lg px-4 py-3 text-sm font-medium flex items-center justify-between";
          btn.innerHTML = `<span>${label}</span><span class=\"text-gray-700\">${p.number}</span>`;
          btn.addEventListener("click", () => {
            const tel = `tel:${sanitizePhone(p.number)}`;
            const a = document.createElement("a");
            a.href = tel;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            closeCallModal();
          });
          modalOptionsEl.appendChild(btn);
        });
        modalEl.classList.remove("hidden");
        // trigger enter animation
        modalEl.classList.remove("modal-leave");
        void modalEl.offsetWidth; // reflow
        modalEl.classList.add("modal-show");
      }

      function closeCallModal() {
        // play leave animation then hide
        modalEl.classList.remove("modal-show");
        modalEl.classList.add("modal-leave");
        setTimeout(() => {
          modalEl.classList.add("hidden");
          modalEl.classList.remove("modal-leave");
        }, 200);
      }

      async function generateVCardFile() {
        const t = i18n[currentLang];
        const v = profile.vcard[currentLang];
        const fullName = t.name;
        const lines = [];
        lines.push("BEGIN:VCARD");
        lines.push("VERSION:3.0");
        lines.push(`N:${v.lastName || ""};${v.firstName || ""};;;`);
        lines.push(`FN:${fullName}`);
        lines.push(`ORG:${v.organization || ""}`);
        lines.push(`TITLE:${v.title || ""}`);
        profile.phones.forEach((p) => {
          const label = p.type || "CELL";
          lines.push(`TEL;TYPE=${label}:${p.number}`);
        });
        if (profile.whatsapp)
          lines.push(`TEL;TYPE=WHATSAPP:${profile.whatsapp}`);
        if (profile.email) lines.push(`EMAIL:${profile.email}`);
        if (profile.website) lines.push(`URL:${profile.website}`);
        lines.push("END:VCARD");
        const vcf = lines.join("\n");
        const blob = new Blob([vcf], { type: "text/vcard" });
        const fileName =
          `${v.firstName || "Contact"}_${v.lastName || ""}`.replace(/_$/, "") +
          ".vcf";
        return { blob, fileName };
      }

      async function saveContact() {
        const { blob, fileName } = await generateVCardFile();
        try {
          const file = new File([blob], fileName, { type: "text/vcard" });
          if (navigator.canShare && navigator.canShare({ files: [file] })) {
            await navigator.share({
              files: [file],
              title: fileName,
              text: fileName,
            });
            return;
          }
        } catch (e) {
          /* fall through to download */
        }
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = fileName;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }

      document.addEventListener("DOMContentLoaded", () => {
        // Grab elements
        avatarImg = document.getElementById("avatar");
        nameEl = document.getElementById("name");
        titleEl = document.getElementById("title");
        companyEl = document.getElementById("company");
        businessTitleEl = document.getElementById("business-title");
        businessDescEl = document.getElementById("business-desc");
        emailBtn = document.getElementById("email-btn");
        whatsappBtn = document.getElementById("whatsapp-btn");
        saveBtn = document.getElementById("save-contact-btn");
        websiteBtn = document.getElementById("website-btn");
        phoneBtn = document.getElementById("phone-btn");
        contactEmailEl = document.getElementById("contact-email");
        contactWhatsappEl = document.getElementById("contact-whatsapp");
        contactPhonesEl = document.getElementById("contact-phones");
        footerCompanyEl = document.getElementById("footer-company");
        langEnBtn = document.getElementById("lang-en");
        langZhBtn = document.getElementById("lang-zh");
        langArBtn = document.getElementById("lang-ar");
        modalEl = document.getElementById("call-modal");
        modalOptionsEl = document.getElementById("call-options");
        modalTitleEl = document.getElementById("modal-title");
        modalCancelEl = document.getElementById("call-cancel");

        // Event listeners
        langEnBtn.addEventListener("click", () => updateUI("en"));
        langZhBtn.addEventListener("click", () => updateUI("zh"));
        langArBtn.addEventListener("click", () => updateUI("ar"));
        saveBtn.addEventListener("click", saveContact);
        phoneBtn.addEventListener("click", openCallModal);
        modalCancelEl.addEventListener("click", closeCallModal);
        modalEl.addEventListener("click", (e) => {
          if (e.target === modalEl) closeCallModal();
        });

        updateUI(currentLang);
      });
    </script>
  </body>
</html>
